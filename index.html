<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Korea Biotech CEO Forum 2026 - 참가신청 (Mobile)</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=Outfit:wght@300;400;600;700&display=swap');
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --primary: #1a7ba0;
            --primary-dark: #0f4c63;
            --accent: #8bc34a;
            --bg-gray: #f4f6f9;
            --text-main: #333333;
            --text-sub: #666666;
            --border-color: #e1e4e8;
            --white: #ffffff;
            --danger: #d32f2f;
        }
        
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: var(--bg-gray);
            color: var(--text-main);
            line-height: 1.6;
            padding: 1rem 0.5rem;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: var(--white);
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.08);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #1a7ba0 0%, #0d4b63 100%);
            color: var(--white);
            padding: 2rem 1rem;
            text-align: center;
        }
        
        .logo-container { margin-bottom: 0; display: flex; justify-content: center; }
        .logo { max-width: 600px; width: 100%; height: auto; display: block; filter: drop-shadow(0 4px 10px rgba(0,0,0,0.2)); margin-bottom: -10px; }
        
        .header-info {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
            padding: 1rem;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            display: inline-block;
            text-align: left;
            font-size: 11px; /* 폰트 크기 11px 고정 */
            margin-top: 10px; 
            width: 95%;
        }
        
        .header-info div { margin: 0; letter-spacing: -0.3px; line-height: 1.5; }
        .header-info strong { color: #ffd54f; font-weight: 600; display: block; margin-bottom: 2px; font-size: 12px; }
        
        .form-content { padding: 1.5rem 1rem; }
        .section { margin-bottom: 2.5rem; }
        
        .section-title {
            font-family: 'Outfit', sans-serif;
            font-size: 1.3rem; 
            font-weight: 700;
            color: var(--primary-dark);
            margin-bottom: 1.2rem;
            display: flex;
            align-items: center;
        }
        
        .section-title::before {
            content: ''; display: block; width: 5px; height: 20px;
            background-color: var(--primary); margin-right: 8px; border-radius: 3px;
        }
        
        .consent-box, .policy-box, .photo-consent-box, .price-info {
            background-color: #f8f9fa;
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 1.5rem;
            font-size: 0.9rem;
            color: var(--text-sub);
        }
        
        .consent-box strong, .policy-box h4, .photo-consent-box h4, .price-info h4 {
            color: var(--primary-dark);
            font-weight: 700;
            display: block;
            margin-bottom: 0.3rem;
            font-size: 0.95rem;
        }

        /* 회색 안내 문구 아주 작게 (10px) */
        .consent-box p, .photo-consent-box ul, .policy-box p {
            font-size: 10px !important; 
            line-height: 1.5;
            color: #888;
        }
        
        .policy-box table { width: 100%; border-collapse: collapse; margin: 0.8rem 0; background: white; font-size: 11px; }
        .policy-box th { background-color: #eef2f5; color: var(--primary-dark); font-weight: 600; padding: 0.6rem; border: 1px solid var(--border-color); }
        .policy-box td { padding: 0.6rem; text-align: center; border: 1px solid var(--border-color); }
        
        .form-group { margin-bottom: 1.5rem; }
        label { display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-main); font-size: 0.9rem; }
        .required { color: var(--danger); margin-left: 3px; font-weight: bold; }
        
        input[type="text"], input[type="email"], input[type="tel"], select, textarea {
            width: 100%; padding: 0.8rem; border: 1px solid var(--border-color);
            border-radius: 8px; font-size: 0.95rem; font-family: inherit;
            transition: all 0.2s ease; background-color: #fff;
        }
        input:focus, select:focus, textarea:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(26, 123, 160, 0.1); }
        input[readonly] { background-color: #f1f3f5; color: var(--text-sub); cursor: default; }
        
        .checkbox-group, .radio-group { display: flex; flex-direction: column; gap: 0.6rem; }
        .checkbox-item, .radio-item {
            display: flex; align-items: center; padding: 0.8rem;
            border: 1px solid var(--border-color); border-radius: 8px;
            cursor: pointer; transition: all 0.2s; background: white;
        }
        .checkbox-item:hover, .radio-item:hover { border-color: var(--primary); background-color: #f0f7fa; transform: translateY(-1px); }
        .checkbox-item input, .radio-item input { width: 18px; height: 18px; margin-right: 10px; accent-color: var(--primary); }
        
        .submit-btn {
            width: 100%; padding: 1rem;
            background: linear-gradient(to right, var(--primary), var(--primary-dark));
            color: white; border: none; border-radius: 8px;
            font-size: 1rem; font-weight: 700; cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s; margin-top: 1rem;
        }
        .submit-btn:hover:not(:disabled) { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(26, 123, 160, 0.3); }
        .submit-btn:disabled { background: #ccc; cursor: not-allowed; transform: none; }
        
        .info-grid { display: grid; grid-template-columns: 1fr; gap: 1.2rem; }
        
        .price-item { display: flex; flex-direction: column; align-items: flex-start; gap: 5px; padding: 1rem 0; border-bottom: 1px dashed rgba(0,0,0,0.1); font-size: 0.9rem; color: var(--text-sub); }
        .price-item:last-child { border-bottom: none; }
        .price-item span:last-child { font-size: 1rem; font-weight: 700; color: var(--primary); }
        
        .hidden { display: none; }
        .dynamic-section { background-color: #f8f9fa; border: 1px solid var(--border-color); border-radius: 12px; padding: 1.2rem; margin-top: 0.8rem; animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }
        
        .calculation-box { background: white; padding: 1rem; border-radius: 8px; border: 1px solid var(--border-color); margin-top: 1rem; }
        .calculation-row { display: flex; justify-content: space-between; margin-bottom: 0.4rem; font-size: 0.9rem; color: var(--text-sub); }
        .calculation-total { display: flex; justify-content: space-between; margin-top: 0.8rem; padding-top: 0.8rem; border-top: 2px solid var(--border-color); font-weight: 700; font-size: 1rem; color: var(--primary); }
        
        .contact-info { margin-top: 2.5rem; text-align: center; color: var(--text-sub); font-size: 0.8rem; padding-top: 1.5rem; border-top: 1px solid var(--border-color); }
        
        .overlay { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.6); z-index: 1000; backdrop-filter: blur(3px); }
        .success-message { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 2rem; border-radius: 16px; box-shadow: 0 15px 40px rgba(0,0,0,0.2); z-index: 1001; width: 90%; max-width: 400px; text-align: center; }
        .success-message.show, .overlay.show { display: block; }
        .success-icon { font-size: 3rem; color: var(--accent); margin-bottom: 1rem; }
        .close-btn { background-color: var(--primary); color: white; border: none; padding: 0.7rem 2rem; border-radius: 6px; cursor: pointer; font-weight: 600; margin-top: 1.2rem; }
    </style>
</head>
<body>
    <div class="overlay" id="overlay"></div>
    
    <div class="success-message" id="successMessage">
        <div class="success-icon">✓</div>
        <h2 style="color:var(--primary); margin-bottom:1rem;">등록 완료</h2>
        <p style="color:#666; margin-bottom:1.5rem; font-size:0.9rem;">
            신청해 주셔서 감사합니다.<br>
            입금 확인 후 최종 완료 메일을 보내드립니다.
        </p>
        <button class="close-btn" onclick="closeSuccessMessage()">확인</button>
    </div>

    <div class="container">
        <div class="header">
            <div class="logo-container">
                <div class="logo-wrapper">
                    <img src="logo.jpg" alt="Korea Biotech CEO Forum Logo" class="logo">
                </div>
            </div>
            <div class="header-info">
                <div style="margin-bottom: 8px;">
                    <strong>일정</strong>
                    2026년 2월 27일(금) 3:30 PM - 3월 1일(일) 12:00 PM
                </div>
                <div>
                    <strong>장소</strong>
                    디아넥스호텔 · 비오토피아 (제주)
                </div>
            </div>
        </div>
        
        <form class="form-content" id="registrationForm">
            <div class="section">
                <h2 class="section-title">개인정보 수집 및 이용 동의</h2>
                <div class="consent-box">
                    <strong>개인정보보호법 준수 안내</strong>
                    <p style="margin-top:0.3rem; font-size:10px;">
                        수집 목적: 행사 운영 및 참가자 관리<br>
                        수집 항목: 이름, 이메일, 연락처, 소속 등<br>
                        보유 기간: 행사 종료 후 6개월 (이후 파기)
                    </p>
                </div>
                <div class="form-group">
                    <label>동의 여부 <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" id="privacy-agree" name="privacy-consent" value="agree" required>
                            <label for="privacy-agree" style="margin:0; cursor:pointer;">동의합니다</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="privacy-disagree" name="privacy-consent" value="disagree">
                            <label for="privacy-disagree" style="margin:0; cursor:pointer;">동의하지 않습니다</label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">사진 촬영 및 사용 동의</h2>
                <div class="photo-consent-box">
                    <h4>촬영 및 활용 안내</h4>
                    <ul style="list-style: inside; padding:0; margin-top:0.3rem; font-size:10px;">
                        <li>행사 기록 및 차년도 프리뷰 자료 활용</li>
                        <li>웹사이트 및 관련 자료 게재</li>
                    </ul>
                </div>
                <div class="form-group">
                    <label>동의 여부 <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" id="photo-agree" name="photo-consent" value="agree" required>
                            <label for="photo-agree" style="margin:0; cursor:pointer;">동의합니다</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="photo-disagree" name="photo-consent" value="disagree">
                            <label for="photo-disagree" style="margin:0; cursor:pointer;">동의하지 않습니다 (현장에서 별도 안내)</label>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2 class="section-title">취소 및 환불 정책</h2>
                <div class="policy-box">
                    <table>
                        <thead>
                            <tr>
                                <th>취소 시점 (행사일 기준)</th>
                                <th>환불률</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>60~46일전</td><td>70%</td></tr>
                            <tr><td>45~31일전</td><td>50%</td></tr>
                            <tr><td>30~당일</td><td style="color:var(--danger); font-weight:bold; font-size:11px;">환불불가</td></tr>
                        </tbody>
                    </table>
                    <p style="font-size:10px; margin-top:0.5rem;">
                        * 취소 신청: 운영사무국 이메일 (moonjkim01@gmail.com)
                    </p>
                </div>
                <div class="form-group">
                    <label>동의 여부 <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" id="refund-agree" name="refund-consent" value="agree" required>
                            <label for="refund-agree" style="margin:0; cursor:pointer;">정책을 확인하였으며 동의합니다</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" id="refund-disagree" name="refund-consent" value="disagree">
                            <label for="refund-disagree" style="margin:0; cursor:pointer;">동의하지 않습니다</label>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2 class="section-title">참석자 정보</h2>
                <div class="info-grid">
                    <div class="form-group">
                        <label for="name">성함 (Full Name) <span class="required">*</span></label>
                        <input type="text" id="name" name="name" required placeholder="홍길동">
                    </div>
                    <div class="form-group">
                        <label for="company">소속 회사 (Company) <span class="required">*</span></label>
                        <input type="text" id="company" name="company" required placeholder="㈜바이오테크">
                    </div>
                </div>
                <div class="info-grid">
                    <div class="form-group">
                        <label for="email">이메일 (Email) <span class="required">*</span></label>
                        <input type="email" id="email" name="email" required placeholder="example@biotech.com">
                    </div>
                    <div class="form-group">
                        <label for="phone">휴대폰 번호 (Mobile Number) <span class="required">*</span></label>
                        <input type="tel" id="phone" name="phone" required placeholder="010-1234-5678">
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2 class="section-title">네트워킹 & 포럼 운영</h2>
                <div class="form-group">
                    <label>관심 있는 주제 (복수 선택 가능) <span class="required">*</span></label>
                    <div class="checkbox-group">
                        <div class="checkbox-item"><input type="checkbox" id="topic1" name="topics" value="자금 조달"><label for="topic1" style="margin:0; cursor:pointer;">자금 조달 / Runway / Capital 전략</label></div>
                        <div class="checkbox-item"><input type="checkbox" id="topic2" name="topics" value="파트너십"><label for="topic2" style="margin:0; cursor:pointer;">파트너십 / 기술·사업 Deal</label></div>
                        <div class="checkbox-item"><input type="checkbox" id="topic3" name="topics" value="조직 운영"><label for="topic3" style="margin:0; cursor:pointer;">조직 운영 / 인재 / 글로벌 팀</label></div>
                        <div class="checkbox-item"><input type="checkbox" id="topic4" name="topics" value="규제"><label for="topic4" style="margin:0; cursor:pointer;">규제 / 정책 / 외부 환경 변화</label></div>
                        <div class="checkbox-item"><input type="checkbox" id="topic5" name="topics" value="R&D"><label for="topic5" style="margin:0; cursor:pointer;">R&D 전략: 플랫폼 vs 에셋</label></div>
                        <div class="checkbox-item"><input type="checkbox" id="topic6" name="topics" value="CEO 리더십"><label for="topic6" style="margin:0; cursor:pointer;">CEO로서의 의사결정과 리더십</label></div>
                        <div class="checkbox-item"><input type="checkbox" id="topic7" name="topics" value="자유 토론"><label for="topic7" style="margin:0; cursor:pointer;">특정 주제 없이 자유 토론</label></div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="discussion-topic">참여자 간 논의 희망 주제 (선택)</label>
                    <textarea id="discussion-topic" name="discussion-topic" placeholder="자유롭게 작성해 주세요"></textarea>
                </div>
                <div class="form-group">
                    <label>참여 희망 역할 <span class="required">*</span></label>
                    <div class="checkbox-group">
                        <div class="checkbox-item"><input type="checkbox" id="role1" name="roles" value="Fireside Chat"><label for="role1" style="margin:0; cursor:pointer;">Fireside Chat 패널</label></div>
                        <div class="checkbox-item"><input type="checkbox" id="role2" name="roles" value="세션 토론"><label for="role2" style="margin:0; cursor:pointer;">세션 토론 패널</label></div>
                        <div class="checkbox-item"><input type="checkbox" id="role3" name="roles" value="모더레이터"><label for="role3" style="margin:0; cursor:pointer;">세션 모더레이터</label></div>
                        <div class="checkbox-item"><input type="checkbox" id="role4" name="roles" value="경험 공유"><label for="role4" style="margin:0; cursor:pointer;">짧은 경험 공유 (5-7분)</label></div>
                        <div class="checkbox-item"><input type="checkbox" id="role5" name="roles" value="참여만"><label for="role5" style="margin:0; cursor:pointer;">참여만 희망</label></div>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2 class="section-title">참석 일정</h2>
                <div class="form-group">
                    <label for="attendance-plan">전체 참석 계획 <span class="required">*</span></label>
                    <select id="attendance-plan" name="attendance-plan" required>
                        <option value="">선택해 주세요</option>
                        <option value="전체 일정 참석">전체 일정 참석 (2/27–3/1)</option>
                        <option value="일부 일정 참석">일부 일정 참석</option>
                        <option value="아직 조율 중">아직 조율 중</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>세부 참석 일정 (복수 선택) <span class="required">*</span></label>
                    <div class="checkbox-group">
                        <div class="checkbox-item"><input type="checkbox" id="date1" name="dates" value="2/27(금) 리셉션"><label for="date1" style="margin:0; cursor:pointer;">2/27(금) 칵테일 리셉션 & 만찬</label></div>
                        <div class="checkbox-item"><input type="checkbox" id="date2" name="dates" value="2/27(금) Gathering"><label for="date2" style="margin:0; cursor:pointer;">2/27(금) Post-event Gathering</label></div>
                        <div class="checkbox-item"><input type="checkbox" id="date3" name="dates" value="2/28(토) Forum"><label for="date3" style="margin:0; cursor:pointer;">2/28(토) CEO Forum (전일)</label></div>
                        <div class="checkbox-item"><input type="checkbox" id="date4" name="dates" value="2/28(토) Gathering"><label for="date4" style="margin:0; cursor:pointer;">2/28(토) Post-event Gathering</label></div>
                        <div class="checkbox-item"><input type="checkbox" id="date5" name="dates" value="미정"><label for="date5" style="margin:0; cursor:pointer;">미정</label></div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="allergy">식이 제한 사항 (선택)</label>
                    <input type="text" id="allergy" name="allergy" placeholder="알레르기, 채식 여부 등">
                </div>
            </div>
            
            <div class="section">
                <h2 class="section-title">결제 정보</h2>
                <div class="price-info">
                    <h4>참가비 안내</h4>
                    <div class="price-item">
                        <span>참가비 (1인)</span>
                        <span>1,000,000원 (VAT 별도)</span>
                    </div>
                    <div class="price-item">
                        <span>숙박비 (1박/객실, 조식 포함)</span>
                        <span>300,000원 (VAT 별도)</span>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>숙박 신청 여부 <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-item"><input type="radio" id="accommodation-yes" name="accommodation" value="신청" required><label for="accommodation-yes" style="margin:0; cursor:pointer;">숙박 신청</label></div>
                        <div class="radio-item"><input type="radio" id="accommodation-no" name="accommodation" value="미신청"><label for="accommodation-no" style="margin:0; cursor:pointer;">숙박 미신청</label></div>
                    </div>
                </div>
                
                <div id="accommodation-details" class="hidden dynamic-section">
                    <h4 style="color:var(--primary); margin-bottom:1rem;">숙박 상세 정보</h4>
                    <p style="margin-bottom:1rem; font-size:0.95rem;">장소: 디아넥스호텔 (제주) / 가격: 1박 300,000원 (VAT 별도)</p>
                    <div class="form-group">
                        <label for="nights">숙박 박수</label>
                        <select id="nights" name="nights">
                            <option value="0">선택</option>
                            <option value="1">1박</option>
                            <option value="2">2박</option>
                        </select>
                    </div>
                    <div id="accommodation-calculation" style="display: none; padding-top:1rem; border-top:1px solid #ddd;">
                        <div style="display:flex; justify-content:space-between; font-weight:700; color:var(--primary);">
                            <span>숙박비 소계</span>
                            <span id="accommodation-total">0원</span>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>결제 방법 <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-item"><input type="radio" id="payment-card" name="payment-method" value="신용카드 결제" required><label for="payment-card" style="margin:0; cursor:pointer;">신용카드 결제 (별도 안내)</label></div>
                        <div class="radio-item"><input type="radio" id="payment-invoice" name="payment-method" value="계좌 이체"><label for="payment-invoice" style="margin:0; cursor:pointer;">계좌 이체 (세금계산서 발행)</label></div>
                    </div>
                </div>
                
                <div id="invoice-details" class="hidden dynamic-section">
                    <div style="background:white; padding:1.2rem; border-radius:8px; border:1px solid var(--primary); text-align:center; margin-bottom:1.5rem;">
                        <h4 style="color:var(--primary); margin-bottom:0.5rem;">입금 계좌</h4>
                        <strong style="font-size:1.1rem; display:block; margin-bottom:0.5rem;">하나은행 611-027403-884</strong>
                        <span style="color:#666; font-size:0.9rem;">예금주: SK핀크스(주)</span>
                    </div>
                    
                    <div class="form-group">
                        <label>세금계산서 발행 여부 <span class="required">*</span></label>
                        <div class="radio-group" style="flex-direction:row;">
                            <div class="radio-item" style="flex:1;"><input type="radio" id="invoice-yes" name="invoice-needed" value="필요"><label for="invoice-yes" style="margin:0; cursor:pointer;">발행 필요</label></div>
                            <div class="radio-item" style="flex:1;"><input type="radio" id="invoice-no" name="invoice-needed" value="불필요"><label for="invoice-no" style="margin:0; cursor:pointer;">발행 불필요</label></div>
                        </div>
                    </div>

                    <div id="no-invoice-cost" class="hidden calculation-box">
                        <label>입금 금액 (Total)</label>
                        <input type="text" id="deposit-total-value" readonly style="font-weight:bold; color:var(--primary); border:none; background:transparent; font-size:1.2rem; padding:0;">
                        <small style="display:block; margin-top:5px; color:#666;">* VAT 불포함 금액</small>
                    </div>
                    
                    <div id="invoice-info" class="hidden">
                        <div class="info-grid">
                            <div class="form-group"><label for="company-name">회사명 (법인명) <span class="required">*</span></label><input type="text" id="company-name" name="company-name"></div>
                            <div class="form-group"><label for="business-number">사업자등록번호 <span class="required">*</span></label><input type="text" id="business-number" name="business-number"></div>
                        </div>
                        <div id="calculated-costs" class="calculation-box">
                            <div class="calculation-row"><span>공급가액</span><input type="text" id="supply-value" readonly style="text-align:right; width:120px; border:none; background:transparent;"></div>
                            <div class="calculation-row"><span>부가세 (10%)</span><input type="text" id="vat-value" readonly style="text-align:right; width:120px; border:none; background:transparent;"></div>
                            <div class="calculation-total"><span>합계 (Total)</span><input type="text" id="total-value" readonly style="text-align:right; width:150px; border:none; background:transparent; font-weight:700; color:var(--primary);"></div>
                        </div>
                        <div class="info-grid">
                            <div class="form-group"><label for="invoice-name">담당자 이름 <span class="required">*</span></label><input type="text" id="invoice-name" name="invoice-name"></div>
                            <div class="form-group"><label for="invoice-phone">담당자 연락처 <span class="required">*</span></label><input type="tel" id="invoice-phone" name="invoice-phone"></div>
                        </div>
                        <div class="form-group"><label for="invoice-email">담당자 이메일 <span class="required">*</span></label><input type="email" id="invoice-email" name="invoice-email"></div>
                    </div>
                    
                    <div class="form-group"><label for="depositor-name">입금자명 (신청자와 다를 경우)</label><input type="text" id="depositor-name" name="depositor-name"></div>
                </div>
            </div>
            
            <button type="submit" class="submit-btn">참가 신청하기</button>
            <div class="contact-info">
                <p><strong>문의처</strong> 김문정 | <a href="mailto:moonjkim01@gmail.com" style="color:inherit; text-decoration:underline;">moonjkim01@gmail.com</a></p>
            </div>
        </form>
    </div>
    
    <script>
        const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxVpxnuF6bfAO00WJ51dklmC7JvTXXePg9R5UzqcM2Pi18iQhV81YDYwJPo8MSkFyBN/exec';
        function showSuccessMessage() { document.getElementById('overlay').classList.add('show'); document.getElementById('successMessage').classList.add('show'); }
        function closeSuccessMessage() { document.getElementById('overlay').classList.remove('show'); document.getElementById('successMessage').classList.remove('show'); }
        
        document.getElementById('registrationForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            const privacyConsent = document.querySelector('input[name="privacy-consent"]:checked');
            if (!privacyConsent || privacyConsent.value !== 'agree') { alert('개인정보 수집 동의가 필요합니다.'); return; }
            const photoConsent = document.querySelector('input[name="photo-consent"]:checked');
            if (!photoConsent) { alert('사진 촬영 동의를 선택해주세요.'); return; }
            const refundConsent = document.querySelector('input[name="refund-consent"]:checked');
            if (!refundConsent || refundConsent.value !== 'agree') { alert('환불 정책 동의가 필요합니다.'); return; }
            
            const submitBtn = this.querySelector('.submit-btn');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = '처리 중...'; submitBtn.disabled = true;
            
            const formData = new FormData(this);
            const data = { timestamp: new Date().toISOString() };
            const checkboxFields = ['topics', 'roles', 'dates'];
            for (let [key, value] of formData.entries()) {
                if (checkboxFields.includes(key)) { if (!data[key]) data[key] = []; data[key].push(value); }
                else { data[key] = value; }
            }
            
            try {
                await fetch(GOOGLE_SCRIPT_URL, { method: 'POST', mode: 'no-cors', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(data) });
                showSuccessMessage(); this.reset();
                document.querySelectorAll('.dynamic-section').forEach(el => el.classList.add('hidden'));
                document.getElementById('accommodation-calculation').style.display = 'none';
            } catch (error) { alert('오류가 발생했습니다.'); } 
            finally { submitBtn.textContent = originalText; submitBtn.disabled = false; }
        });

        document.querySelectorAll('input[name="accommodation"]').forEach(r => r.addEventListener('change', function() {
            const details = document.getElementById('accommodation-details');
            if (this.value === '신청') details.classList.remove('hidden'); else { details.classList.add('hidden'); document.getElementById('nights').value = "0"; }
            calculateInvoiceAmounts();
        }));
        
        document.getElementById('nights').addEventListener('change', function() {
            const nights = parseInt(this.value) || 0;
            if (nights > 0) {
                document.getElementById('accommodation-total').textContent = (nights * 300000).toLocaleString() + '원';
                document.getElementById('accommodation-calculation').style.display = 'block';
            } else { document.getElementById('accommodation-calculation').style.display = 'none'; }
            calculateInvoiceAmounts();
        });

        document.querySelectorAll('input[name="payment-method"]').forEach(r => r.addEventListener('change', function() {
            const d = document.getElementById('invoice-details');
            if (this.value === '계좌 이체') d.classList.remove('hidden'); else d.classList.add('hidden');
        }));

        document.querySelectorAll('input[name="invoice-needed"]').forEach(r => r.addEventListener('change', function() {
            const info = document.getElementById('invoice-info');
            const noCost = document.getElementById('no-invoice-cost');
            const ids = ['company-name', 'business-number', 'invoice-name', 'invoice-phone', 'invoice-email'];
            if (this.value === '필요') {
                info.classList.remove('hidden'); noCost.classList.add('hidden');
                ids.forEach(id => document.getElementById(id).setAttribute('required', ''));
            } else {
                info.classList.add('hidden'); noCost.classList.remove('hidden');
                ids.forEach(id => document.getElementById(id).removeAttribute('required'));
            }
            calculateInvoiceAmounts();
        }));

        function calculateInvoiceAmounts() {
            const regFee = 1000000;
            let nights = 0;
            if (document.querySelector('input[name="accommodation"]:checked')?.value === '신청') nights = parseInt(document.getElementById('nights').value) || 0;
            const supply = regFee + (nights * 300000);
            const vat = supply * 0.1;
            document.getElementById('supply-value').value = supply.toLocaleString() + "원";
            document.getElementById('vat-value').value = vat.toLocaleString() + "원";
            document.getElementById('total-value').value = (supply + vat).toLocaleString() + "원";
            document.getElementById('deposit-total-value').value = supply.toLocaleString() + "원";
        }
    </script>
</body>
</html>
